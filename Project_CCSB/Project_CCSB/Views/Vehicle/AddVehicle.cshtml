@model Project_CCSB.Models.ViewModels.VehicleViewModel

<h2>Voertuig</h2>
    <h4>Nieuw voertuig</h4>
    <hr />
    <form id="addVehicleForm" method="post" asp-action="AddVehicle" asp-controller="Vehicle">
        <div asp-validation-summary="All" class="text-danger"></div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="LicensePlate"></label>
            <div class="col-md-10">
                <input asp-for="LicensePlate" id="inputLicensePlate" class="form-control" />
                <span asp-validation-for="LicensePlate" id="licensePlateError" class="text-danger"></span>
                <span asp-validation-for="LicensePlate" id="licensePlateWarning" class="text-warning"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="Type"></label>
            <div class="col-md-10">
                <select asp-for="Type"
                        asp-items="@Project_CCSB.Models.Helper.GetVehicleType()"
                        id="inputType"
                        class="form-control"
                        onchange="ShowProps()">
                    <option selected>Kies caravan of camper</option>
                </select>
                <span asp-validation-for="Type" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="Brand"></label>
            <div class="col-md-10">
                <input asp-for="Brand" id="inputBrand" class="form-control" />
                <span asp-validation-for="Brand" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="Length"></label>
            <div class="col-md-10">
                <input asp-for="Length" id="inputLength" class="form-control" />
                <span asp-validation-for="Length" id="errorLength" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="Power"></label>
            <div class="col-md-10">
                <select asp-for="Power"
                        asp-items="@Project_CCSB.Models.Helper.GetYesOrNo()"
                        id="inputPower"
                        class="form-control">
                    <option selected>Kies ja of nee</option>
                </select>
                <span asp-validation-for="Power" class="text-danger"></span>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-md-2" asp-for="Color"></label>
            <div class="col-md-10">
                <input asp-for="Color" id="inputColor" class="form-control" />
                <span asp-validation-for="Color" id="errorColor" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="BuildYear"></label>
            <div class="col-md-10">
                <input asp-for="BuildYear" id="inputBuildYear" class="form-control" />
                <span asp-validation-for="BuildYear" id="errorBuildYear" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="NumberOfBeds"></label>
            <div class="col-md-10">
                <input asp-for="NumberOfBeds" id="inputNumberOfBeds" class="form-control" />
                <span asp-validation-for="NumberOfBeds" id="errorNumberOfBeds" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="BicycleCarrier"></label>
            <div class="col-md-10">
                <select asp-for="BicycleCarrier"
                        asp-items="@Project_CCSB.Models.Helper.GetYesOrNo()"
                        id="inputBicycleCarrier"
                        class="form-control">
                    <option selected>Kies ja of nee</option>
                </select>
                <span asp-validation-for="BicycleCarrier" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-2" asp-for="Airconditioning"></label>
            <div class="col-md-10">
                <select asp-for="Airconditioning"
                        asp-items="@Project_CCSB.Models.Helper.GetYesOrNo()"
                        id="inputAirconditioning"
                        class="form-control">
                    <option selected>Kies ja of nee</option>
                </select>
                <span asp-validation-for="Airconditioning" class="text-danger"></span>
            </div>
        </div>

        <div id="camperProps" hidden>
            <div class="form-group row">
                <label class="col-md-2" asp-for="Mileage"></label>
                <div class="col-md-10">
                    <input asp-for="Mileage" id="inputMileage" class="form-control" />
                    <span asp-validation-for="Mileage" id="errorMileage" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2" asp-for="HorsePower"></label>
                <div class="col-md-10">
                    <input asp-for="HorsePower" id="inputHorsePower" class="form-control" />
                    <span asp-validation-for="HorsePower" id="errorHorsePower" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2" asp-for="CamperType"></label>
                <div class="col-md-10">
                    <input asp-for="CamperType" id="inputCamperType" class="form-control" />
                    <span asp-validation-for="CamperType" id="errorCamperType" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2" asp-for="TowBar"></label>
                <div class="col-md-10">
                    <select asp-for="TowBar"
                            asp-items="@Project_CCSB.Models.Helper.GetYesOrNo()"
                            id="inputTowBar"
                            class="form-control">
                        <option selected>Kies ja of nee</option>
                    </select>
                    <span asp-validation-for="TowBar" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div id="caravanProps" hidden>
            <div class="form-group row">
                <label class="col-md-2" asp-for="EmptyWeight"></label>
                <div class="col-md-10">
                    <input asp-for="EmptyWeight" id="inputEmptyWeight" class="form-control" />
                    <span asp-validation-for="EmptyWeight" id="errorEmptyWeight" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-2" asp-for="HoldingTank"></label>
                <div class="col-md-10">
                    <select asp-for="HoldingTank"
                            asp-items="@Project_CCSB.Models.Helper.GetYesOrNo()"
                            id="inputHoldingTank"
                            class="form-control">
                        <option selected>Kies ja of nee</option>
                    </select>
                    <span asp-validation-for="HoldingTank" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-md-2" asp-for="User"></label>
            <div class="col-md-10">
                <select asp-for="User"
                        asp-items="@ViewBag.UserList"
                        id="inputUser"
                        class="form-control">
                    <option selected>Kies een gebruiker</option>
                </select>
                <span asp-validation-for="User" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10 offset-md-2">
                <input type="submit" value="Toevoegen" class="btn btn-success" />
            </div>
        </div>
    </form>
<script>
    function ShowProps() {
        $("#camperProps").attr("hidden", true);
        $("#caravanProps").attr("hidden", true);

        var val = $("#inputType").val();
        if (val == "Camper") {
            $("#camperProps").attr("hidden", false);
        } else if (val == "Caravan") {
            $("#caravanProps").attr("hidden", false);
        }
    }

    function CheckLicensePlate(licensePlate) {
        var licensePlateFormat = licensePlate.replace(/-/g, '').toUpperCase();

        if (new RegExp(/[aeiou]/gi).test(licensePlateFormat)) // Check if licenseplate contains vowels, if so give warning
        {
            var vowelMatch = confirm("Uw kenteken bevat klinkers" +
                "\nDeze worden sinds 1978 niet meer gebruikt in kentekens" +
                "\nWeet u zeker dat het kenteken correct is?");

            if (!vowelMatch)
                return false;
        }

        var licensePlateRegexes = [
            /^([A-Z]{2})(\d{2})(\d{2})$/,       // 1     XX-99-99    (since 1951)
            /^(\d{2})(\d{2})([A-Z]{2})$/,       // 2     99-99-XX    (since 1965)
            /^(\d{2})([A-Z]{2})(\d{2})$/,       // 3     99-XX-99    (since 1973)
            /^([A-Z]{2})(\d{2})([A-Z]{2})$/,    // 4     XX-99-XX    (since 1978)
            /^([A-Z]{2})([A-Z]{2})(\d{2})$/,    // 5     XX-XX-99    (since 1991)
            /^(\d{2})([A-Z]{2})([A-Z]{2})$/,    // 6     99-XX-XX    (since 1999)
            /^(\d{2})([A-Z]{3})(\d{1})$/,       // 7     99-XXX-9    (since 2005)
            /^(\d{1})([A-Z]{3})(\d{2})$/,       // 8     9-XXX-99    (since 2009)
            /^([A-Z]{2})(\d{3})([A-Z]{1})$/,    // 9     XX-999-X    (since 2006)
            /^([A-Z]{1})(\d{3})([A-Z]{2})$/,    // 10    X-999-XX    (since 2008)
            /^([A-Z]{3})(\d{2})([A-Z]{1})$/,    // 11    XXX-99-X    (since 2015)
            /^([A-Z]{1})(\d{2})([A-Z]{3})$/,    // 12    X-99-XXX
            /^(\d{1})([A-Z]{2})(\d{3})$/,       // 13    9-XX-999
            /^(\d{3})([A-Z]{2})(\d{1})$/,       // 14    999-XX-9
            /^(\d{3})(\d{2})([A-Z]{1})$/,       // 15    999-99-X
            /^([A-Z]{3})(\d{2})(\d{1})$/,       // 16    XXX-99-9
            /^([A-Z]{3})([A-Z]{2})(\d{1})$/,    // 17    XXX-XX-9
        ];

        for (var i in licensePlateRegexes) {

            if (licensePlateFormat.match(licensePlateRegexes[i])) {
                return true;
            }
        }
        $("#licensePlateError").text("Dit is geen geldig kenteken");
        return false;
    }

    function RemoveErrorTexts() {
        $("#licensePlateError").text("");
        $("#errorLength").text("");
    }
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
